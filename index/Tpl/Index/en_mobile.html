<!DOCTYPE html>
<html data-dpr="2" style="font-size: 37.5px;">

    <head lang="zh">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>{$group_activity['en_title']}</title>
        <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no">
        <link rel="stylesheet" href="__PUBLIC__/telegram/bootstrap.min.css">

        <script src="__PUBLIC__/telegram/flexible_css.js"></script>
        <style>@charset "utf-8";html{color:#000;background:#fff;overflow-y:scroll;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}html *{outline:0;-webkit-text-size-adjust:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}html,body{font-family:sans-serif}body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,textarea,p,blockquote,th,td,hr,button,article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{margin:0;padding:0}input,select,textarea{font-size:100%}table{border-collapse:collapse;border-spacing:0}fieldset,img{border:0}abbr,acronym{border:0;font-variant:normal}del{text-decoration:line-through}address,caption,cite,code,dfn,em,th,var{font-style:normal;font-weight:500}ol,ul{list-style:none}caption,th{text-align:left}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:500}q:before,q:after{content:''}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}a:hover{text-decoration:underline}ins,a{text-decoration:none}</style>
        <script src="__PUBLIC__/telegram/flexible.js"></script>
        <link rel="icon" href="__PUBLIC__/assets/img/logo/logo.ico">
        <link rel="stylesheet" href="__PUBLIC__/telegram/ladda-themeless.min.css">
        <link rel="stylesheet" href="__PUBLIC__/telegram/index.css?t=<?php echo time();?>">
        <style>input::-webkit-input-placeholder { /* placeholder颜色 */ color: #ffffff; /* placeholder字体大小 */ font-size: 16px; /* placeholder位置 */ text-align: left; } input { border: 1px solid red; }</style>
        <style type="text/css">
            .g-recaptcha div{
                width: 100% !important;
            }
        </style>
        <script src="http://sdk.talkingdata.com/app/h5/v1?appid=F4C453A76D72473CB426C688397BE09D&vn=0.001&vc=0.001"></script>
        <link rel="stylesheet" href="__PUBLIC__/telegram/layer.css" id="layuicss-layer">
        <script type="text/javascript">
      var onloadCallback = function() {
        grecaptcha.render('html_element', {
          'sitekey' : '6LfwBVkUAAAAAHxeW99277_nBzVD6PWqqyz3tax2'
        });
      };
    </script>
    </head>

    <body style="font-size: 16px;background-image:url({$group_activity['bglogo']}); background-size: cover; -webkit-background-size: cover; -moz-background-size: cover; -o-background-size: cover;">
        <div class="container">
            <form class="row">
                <div class="col-sm-12 text-right lang-box">
                    <a href="javascript:void(0);" class="lang">中文</a>
                </div>
                <!-- <div class="col-sm-12 text-center">
                    <img class="logo" src="{$group_activity['logo']}" alt=""></div> -->
                <div class="col-sm-12 text-center" style="margin-top:2rem">
                    <a href="{$group_activity['join_button_url']}" class="join border-radius" style="text-decoration:none;">{$group_activity['en_join_button_text']}</a></div>
                <div class="col-sm-12 text-center">
                    <div class="desc">{$group_activity['en_message']}</div>
                    <!-- <p class="desc">每邀请一个好友加入，你将额外获得 <strong style="font-size: 1.5em">{$group_activity['rate']}</strong> 个 {$group_activity['rate_unit']}，邀请越多，奖励越多，赶快行动!</p> -->
                </div>
                <div class="col-sm-12 text-center">
                  <!--   <select style="font-size: 16px;
    position: absolute;
    top: 0;
    left: 14px;
    display: inline-block;
    height: 56px;
    line-height: 56px;
    color: #fff;
    background: #a69bd5;
    -webkit-border-radius: 100px 0 0 100px;
    -moz-border-radius: 100px 0 0 100px;
    border-radius: 100px 0 0 100px;
    font-weight: bold;
    width: 90px;
    border: none;
    background-image: url(/Public/img/手机.png);
    background-size: 15px;
    /* -webkit-background-size: cover; */
    -moz-background-size: cover;
    -o-background-size: cover;
    background-position: left;
    background-repeat: no-repeat;
    padding-left: 38px;
    background-position: 21px;" name="areanum">
                       <option value="+1">+1</option>
<option value="+7">+7</option>
<option value="+20">+20</option>
<option value="+27">+27</option>
<option value="+30">+30</option>
<option value="+31">+31</option>
<option value="+32">+32</option>
<option value="+33">+33</option>
<option value="+34">+34</option>
<option value="+36">+36</option>
<option value="+39">+39</option>
<option value="+40">+40</option>
<option value="+41">+41</option>
<option value="+43">+43</option>
<option value="+44">+44</option>
<option value="+45">+45</option>
<option value="+46">+46</option>
<option value="+47">+47</option>
<option value="+48">+48</option>
<option value="+49">+49</option>
<option value="+51">+51</option>
<option value="+52">+52</option>
<option value="+53">+53</option>
<option value="+54">+54</option>
<option value="+55">+55</option>
<option value="+56">+56</option>
<option value="+57">+57</option>
<option value="+58">+58</option>
<option value="+60">+60</option>
<option value="+61">+61</option>
<option value="+62">+62</option>
<option value="+63">+63</option>
<option value="+64">+64</option>
<option value="+65">+65</option>
<option value="+66">+66</option>
<option value="+81">+81</option>
<option value="+82">+82</option>
<option value="+84">+84</option>
<option value="+86" selected>+86</option>
<option value="+90">+90</option>
<option value="+91">+91</option>
<option value="+92">+92</option>
<option value="+93">+93</option>
<option value="+94">+94</option>
<option value="+95">+95</option>
<option value="+98">+98</option>
<option value="+212">+212</option>
<option value="+213">+213</option>
<option value="+216">+216</option>
<option value="+218">+218</option>
<option value="+220">+220</option>
<option value="+221">+221</option>
<option value="+223">+223</option>
<option value="+224">+224</option>
<option value="+225">+225</option>
<option value="+226">+226</option>
<option value="+227">+227</option>
<option value="+228">+228</option>
<option value="+229">+229</option>
<option value="+230">+230</option>
<option value="+231">+231</option>
<option value="+232">+232</option>
<option value="+233">+233</option>
<option value="+233">+233</option>
<option value="+234">+234</option>
<option value="+235">+235</option>
<option value="+236">+236</option>
<option value="+237">+237</option>
<option value="+239">+239</option>
<option value="+241">+241</option>
<option value="+242">+242</option>
<option value="+243">+243</option>
<option value="+244">+244</option>
<option value="+247">+247</option>
<option value="+248">+248</option>
<option value="+249">+249</option>
<option value="+251">+251</option>
<option value="+252">+252</option>
<option value="+253">+253</option>
<option value="+254">+254</option>
<option value="+255">+255</option>
<option value="+256">+256</option>
<option value="+257">+257</option>
<option value="+258">+258</option>
<option value="+260">+260</option>
<option value="+261">+261</option>
<option value="+262">+262</option>
<option value="+263">+263</option>
<option value="+264">+264</option>
<option value="+265">+265</option>
<option value="+266">+266</option>
<option value="+267">+267</option>
<option value="+268">+268</option>
<option value="+327">+327</option>
<option value="+331">+331</option>
<option value="+350">+350</option>
<option value="+351">+351</option>
<option value="+352">+352</option>
<option value="+353">+353</option>
<option value="+354">+354</option>
<option value="+355">+355</option>
<option value="+356">+356</option>
<option value="+357">+357</option>
<option value="+358">+358</option>
<option value="+359">+359</option>
<option value="+370">+370</option>
<option value="+371">+371</option>
<option value="+372">+372</option>
<option value="+373">+373</option>
<option value="+374">+374</option>
<option value="+375">+375</option>
<option value="+376">+376</option>
<option value="+377">+377</option>
<option value="+378">+378</option>
<option value="+380">+380</option>
<option value="+381">+381</option>
<option value="+386">+386</option>
<option value="+420">+420</option>
<option value="+421">+421</option>
<option value="+423">+423</option>
<option value="+501">+501</option>
<option value="+502">+502</option>
<option value="+503">+503</option>
<option value="+504">+504</option>
<option value="+505">+505</option>
<option value="+506">+506</option>
<option value="+507">+507</option>
<option value="+509">+509</option>
<option value="+591">+591</option>
<option value="+592">+592</option>
<option value="+593">+593</option>
<option value="+594">+594</option>
<option value="+595">+595</option>
<option value="+596">+596</option>
<option value="+597">+597</option>
<option value="+598">+598</option>
<option value="+599">+599</option>
<option value="+673">+673</option>
<option value="+674">+674</option>
<option value="+675">+675</option>
<option value="+676">+676</option>
<option value="+677">+677</option>
<option value="+679">+679</option>
<option value="+682">+682</option>
<option value="+684">+684</option>
<option value="+685">+685</option>
<option value="+689">+689</option>
<option value="+850">+850</option>
<option value="+852">+852</option>
<option value="+853">+853</option>
<option value="+855">+855</option>
<option value="+856">+856</option>
<option value="+880">+880</option>
<option value="+886">+886</option>
<option value="+960">+960</option>
<option value="+961">+961</option>
<option value="+962">+962</option>
<option value="+963">+963</option>
<option value="+964">+964</option>
<option value="+965">+965</option>
<option value="+966">+966</option>
<option value="+967">+967</option>
<option value="+968">+968</option>
<option value="+971">+971</option>
<option value="+972">+972</option>
<option value="+973">+973</option>
<option value="+974">+974</option>
<option value="+976">+976</option>
<option value="+977">+977</option>
<option value="+992">+992</option>
<option value="+993">+993</option>
<option value="+994">+994</option>
<option value="+995">+995</option>
<option value="+1242">+1242</option>
<option value="+1246">+1246</option>
<option value="+1264">+1264</option>
<option value="+1268">+1268</option>
<option value="+1345">+1345</option>
<option value="+1441">+1441</option>
<option value="+1664">+1664</option>
<option value="+1670">+1670</option>
<option value="+1671">+1671</option>
<option value="+1758">+1758</option>
<option value="+1758">+1758</option>
<option value="+1784">+1784</option>
<option value="+1784">+1784</option>
<option value="+1787">+1787</option>
<option value="+1809">+1809</option>
<option value="+1809">+1809</option>
<option value="+1876">+1876</option>
<option value="+1890">+1890</option>
           </select> -->
                    <if condition ="$group_activity['en_placeholder_text'] neq ''">
                        <input name="wallet" class="address border-radius text-center" placeholder="{$group_activity['en_placeholder_text']}" style="padding-left: 89px;width:100%;">
                    <else/>
                        <input name="wallet" class="address border-radius text-center" placeholder="请输入你的手机号" style="padding-left: 89px;width:80%;">
                    </if>

                    <input type="hidden" name="code" value="{$code}">
                    <input type="hidden" name="chat_bot_id" value="{$chat_bot['id']}">
                    <input type="hidden" name="activity_id" value="{$group_activity['id']}">
                </div>

             <!--    <div class="col-sm-12 text-center" style="margin-top:15px;">
                    <div class="g-recaptcha" data-sitekey="6LfwBVkUAAAAAHxeW99277_nBzVD6PWqqyz3tax2"></div>
                    <div id="html_element"></div>
                </div> -->

                <div class="col-sm-12 text-center">
                    <button type="button" href="javascript:void(0);" id="usernameID" class="submit border-radius text-center ladda-button" data-style="zoom-in">
                        <span class="ladda-label" style="color:#301a8d">Submit</span></button>
                </div>
                <div class="col-sm-12 text-center rule-box">
                    <a class="link" data-toggle="modal" data-target="#myModal" href="" onclick="return false;">
                        <u> Activity Details</u>
                    </a>
                </div>

                <!-- 模态框（Modal） -->
                <div class="modal fade" style="color:#000" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                <!-- <h4 class="modal-title" id="myModalLabel">模态框（Modal）标题</h4> -->
                            </div>
                            <div class="modal-body" style="white-space:pre-wrap;font-size:16px">
                                {$group_activity['en_rule']|htmlspecialchars_decode}
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                <!-- <button type="button" class="btn btn-primary">提交更改</button> -->
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal -->
                </div>


                <div class="col-sm-12 text-center link-box">
                    <!-- <p class="link">由于监管原因，我们不接受来自中国，美国，加拿大，韩国和 OFAC 限制国的参与者<a href="https://www.treasury.gov/resource-center/sanctions/Programs/Pages/Programs.aspx" class="link">
                        (<u>OFAC</u>)</a></p> -->
                    <p class="link"> Attention: Users within the China region, please turn on your VPN service to finish the Google Authentication. Thank you for your cooperation.</p>
                </div>
                <div class="col-sm-12 text-center link-box">
                   <!--  <a class="link" href="{$group_activity['bottom_text_url']}">{$group_activity['bottom_text']}</a> -->
                   <a href="https://twitter.com/IamTokenMan" title="TokenMan"><img style="width:35px;height:35px;" src="__PUBLIC__/img/tokenman.png"></a>
                </div>
            </form>
        </div>
    <!-- <script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit"
        async defer>
    </script>-->
    <script src="__PUBLIC__/telegram/jquery-3.2.1.min.js"></script>
    <script src="__PUBLIC__/telegram/bootstrap.min.js"></script>
    <script src="__PUBLIC__/telegram/spin.min.js"></script>
    <script src="__PUBLIC__/telegram/ladda.min.js"></script>
    <script src="__PUBLIC__/telegram/layer.js"></script>

    <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>
        <script>$(function() {
                $('.submit').click(function() {
                    if ($(this).prop("disabled")) {
                        return false;
                    }


                    //获取
                    //alert($("#g-recaptcha-response").val());
                    //alert()
                    //alert($("#g-recaptcha-response").val());
                    // if ($("#g-recaptcha-response").val() == undefined) {
                    //     layer.msg('请验证谷歌验证!', {
                    //             shade: [0.8, '#000'],
                    //             time: 1500
                    //         }
                    //     );
                    //     return false;
                    // };

                    var ladda, data = {},
                    _this = this;
                    $.each($('form').serializeArray(),
                    function() {
                        data[this.name] = this.value;
                    });

                    //data.wallet = data.areanum + " " + data.wallet;

                    // if ($("#g-recaptcha-response").val() == "") {
                    //     layer.msg('请验证谷歌验证!', {
                    //             shade: [0.8, '#000'],
                    //             time: 1500
                    //         }
                    //     );
                    //     return false;
                    // }else{
                    //     data.googleauth = $("#g-recaptcha-response").val();
                    // }

                    data.googleauth = false;

                    var web3 = new Web3();
                    $.ajax({
                        type: "post",
                        url: "__APP__/Api/code",
                        data: data,
                        timeout: 30000,
                        beforeSend: function() {

                            if (!data.wallet) {
                                layer.msg('钱包地址为空!', {
                                    shade: [0.8, '#000'],
                                    time: 1500
                                });
                                return false;
                            } else if (!web3.isAddress(data.wallet)) {
                                layer.msg('钱包地址错误!', {
                                    shade: [0.8, '#000'],
                                    time: 1500
                                });
                                return false;
                            } else {
                                ladda = Ladda.create(_this);
                                ladda.start();
                            }
                            // ladda = Ladda.create(_this);
                            // ladda.start();
                        },
                        dataType: 'json'
                    }).done(function(res) {

                        if (res && res.success) {
                            window.location.href = '/Index/dashboard/' + res.usercode+'?lang=en';
                        } else {
                            if (ladda) {
                                ladda.stop();
                            }
                            var msg = '';
                            if (res.code == 101) {
                                msg = '钱包地址错误!';
                            } else {
                                msg = '服务忙 请重试!'
                            }
                            layer.msg(msg, {
                                shade: [0.8, '#000'],
                                time: 1500
                            });
                        }
                    });
                });

                $('.lang').click(function() {
                    location.href = location.href + '&lang=ch' + ('' ? '&code=': '')
                });
            });</script>

    </body>

</html>